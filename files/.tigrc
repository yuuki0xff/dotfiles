
########
# ALL views
########

bind generic g move-first-line
bind generic G move-last-line

# 選択したコミットをブラウザで開く
# github/bitbucketで動作確認。
bind generic o @bash -c 'xdg-open $(git remote get-url origin | awk \'/^https?:\\/\\// { sub("://.*@", "://"); } /^(https?|git):\\/\\// { sub("^(https?|git)://", "https://"); print $0; } /^[^/]+:[^/]{2}/ { sub(":", "/"); sub("^(.+@)?", "https://"); print $0 }\')/commits/%(commit)'

# カーソル行のブランチを親にして入力した名前のブランチを作成
bind generic n @git checkout -b %(prompt) %(commit)

bind generic <Ctrl-R> !git pull
bind generic <Ctrl-P> !git push

bind generic V @?git revert %(commit)
bind generic C @?git checkout %(commit)
bind generic T @git tag %(prompt) %(commit)
bind generic <Ctrl-T> !git tag -a %(prompt) %(commit)
bind generic B !git rebase -i '%(commit)^'


########
# branch view
########

# リモートブランチをtrackしつつチェックアウト
bind refs T @git checkout -t %(ref)

bind refs D @?git branch -D %(ref)
bind refs d @?git branch -d %(ref)

# 指定したブランチをpush
bind refs p @git push -u origin %(ref)


########
# Status view
########

# git commit --ammend の代わり
bind status A !git fixup HEAD

bind status F !git fixup %(commit)


########
# Color
########

color default white black
color cursor default magenta
color date cyan default
color delimiter cyan default
color line-number yellow default
color diff-header yellow default
color diff-index blue default
color diff-chunk magenta default
color "Reported-by:" green default
color graph-commit cyan default

